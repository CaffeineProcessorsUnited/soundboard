<!DOCTYPE html>
<html>
  <head>
    <title> Soundboard Player </title>
    <style>
      html{
        margin: 0px;
      }
      body {
        text-align: center;
        margin: 0px;
        padding: 0px;
      }
      header{
        margin: 0px;
        background-color: #FF4FAF;
        padding: 10px;
        color: white;
      }
      h1{
        margin: 0px;
        font-size: 50px;
      }
    </style>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
      $(document).ready(function(){
        var socket = io();
        socket.on('get_current_track', function loadCurrentTrack(trackinfo){
          console.log(JSON.stringify(trackinfo));
          track = trackinfo["currentTrack"];
          console.log(JSON.stringify(track));
          if(track!=undefined){
            if(track.getService()=="youtube"){
                $("#soundboard_player").html('<p>Youtube</p>');
            }
            else if (track.getService()=="filesystem"){
                $("#soundboard_player").html('<p>filesystem</p>');
            }
            else{
                $("#soundboard_player").html('<p>What the fuck happend?</p>');
            }
          }
          else{
              $("#soundboard_player").html('<p>No tracks in queue</p>');
          }
        });
        socket.emit('get_current_track');
        socket.on('poll',function updateTrackInfo(){
          socket.emit('get_current_track');
        });
      });
    </script>
  </head>
  <body>
    <header>
      <h1> Soundboard Player </h1>
    </header>
    <div id="soundboard_player">
    </div>
  </body>
</html>
